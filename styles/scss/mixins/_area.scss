// make-area 믹스인
// 기본값이 null로 셋팅되어 있는 요소는 인자가 전달되지 않을 시 컴파일 되지 않습니다.
// [매개변수]
// $max-width 기본값: null
// $gutter-width 기본값: null
// $width 기본값: 100%

@mixin make-area( $area-info: $g_area_info ) {
  %area {
    position:relative;
    margin-right: auto;
    margin-left: auto;
  }
  @each $key, $val in $area-info {
    $area-name : if($key == "default", "", "-" + $key);
    .area#{$area-name} {
      @extend %area;
      $width: 100%;
          
        @if  map-has-key($val, width) {
          $width : map-get($val, width),
        } @else {
          $width : 100%
        }

      width: $width;
      max-width: map-get($val, max-width);
      padding-right: map-get($val, gutter-width);
      padding-left: map-get($val, gutter-width);

      @each $key2, $val2 in $val {
        @if ($key2 == media) {
          @each $key3, $val3 in $val2 {
            @include media-query-min($key3) {
              $width : map-get($val3, width);
              max-width: map-get($val3, max-width);
              padding-right: map-get($val3, gutter-width);
              padding-left: map-get($val3, gutter-width);
            }
          }
        }
      }
    }
  }
  @each $key, $val in $area-info {
    $area-name : if($key == "default", "", "-" + $key);
    .area#{$area-name}-break-left {
      position: relative;
      width: 100%;
      padding-right: map-get($val, gutter-width);

      @each $key2, $val2 in $val {
        @if ($key2 == media) {
          @each $key3, $val3 in $val2 {
            @include media-query-min($key3) {
              padding-right: map-get($val3, gutter-width);
            }
            @include media-query-min( map-get($val3, max-width) ) {
              padding-right: calc((100% - (#{map-get($val3, max-width)} - #{map-get($val3, gutter-width)*2}) ) / 2);
            } 
          }
        }
      }
    }

    .area#{$area-name}-break-right {
      position: relative;
      width: 100%;
      padding-left: map-get($val, gutter-width);

      @each $key2, $val2 in $val {
        @if ($key2 == media) {
          @each $key3, $val3 in $val2 {
            @include media-query-min($key3) {
              padding-left: map-get($val3, gutter-width);
            }
            @include media-query-min( map-get($val3, max-width) ) {
              padding-left: calc((100% - (#{map-get($val3, max-width)} - #{map-get($val3, gutter-width)*2}) ) / 2);
            }
          }
        }
      }
    }
  }
}

